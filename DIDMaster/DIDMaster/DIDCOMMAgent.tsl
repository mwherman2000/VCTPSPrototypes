// Secure Verifiable Credential Transport Protocol (VCTPS)
// Verifiable Capability Authorization-based Verifiable Credential Exchange Protocol over DIDCOMM
// - using the .NET version of the https://github.com/trinsic-id/okapi/tree/main/dotnet Okapi DID libraries
//   and the Microsoft "Trinity" Graph Engine object platform
//
// BlueToque Tools, Trusted Digital Web Project, Hyperonomy Digital Identity Lab, Parallelspace Corporation
// http://hyperonomy.com
// (c) Copyright 2022. Parallelspace Corporation, Bindloss, Alberta, Canada

cell struct DIDCOMMEncryptedMessage_Cell
{
	DIDCOMMEncryptedMessage em;
}

struct DIDCOMMEncryptedMessage
{
	string lv64;
	string ciphertext64;
	string tag64;
	List<string> recipients64;
}

struct DIDCOMMMessage
{
	DIDCOMMEncryptedMessage encryptedMessage; 
}

struct DIDCOMMResponse 
{
	long rc;
}

struct DoorKnockerMessage
{
	DIDDocument didDocument;
}

struct DoorKnockerResponse 
{
	long rc;
}


protocol DIDCOMMEndpoint
{
	Type: HTTP;
	Request:  DIDCOMMMessage;
	Response: DIDCOMMResponse; // void;
}

protocol DoorKnocker
{
	Type: HTTP;
	Request:  DoorKnockerMessage;
	Response: DoorKnockerResponse; // void;
}

server DIDCOMMAgent
{
    protocol DIDCOMMEndpoint;
	protocol DoorKnocker;
}
